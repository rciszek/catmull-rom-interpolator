"use strict";function linearInterpolation(r,n,t){var e=new Float32Array(t+1);e[0]=r;for(var a=(n-r)/(t+1),o=1;o<t+1;o++)e[o]=e[o-1]+a;return e}function arrayTo2d(r,n){for(var t=[],e=-1,a=0;a<r.length;a++)a%n==0&&(t[++e]=[]),t[e].push(r[a]);return t}module.exports=function(r,n=0,t=10,e=!1){var a=2*(r.length-3)*t+2*(r.length-2);e&&(a=2*r.length*t+2*r.length);var o=new Float32Array(a),l=0,u=r.map(function(r){return r.slice()});e&&(u.unshift(r[r.length-1]),u.push(r[0],r[1]));for(var h=0;h<u.length-3;h++)!function(r,n,t,e,a,u){function h(r,n,t){var e=n[0],o=n[1],l=t[0],u=t[1];return Math.pow(Math.pow((l-e)*(l-e)+(u-o)*(u-o),.5),a)+r}var i=h(0,r,n),f=h(i,n,t),g=h(f,t,e),v=[];v=linearInterpolation(i,f,u);for(var c,p,s,w,y,d,m,A,F,I,M,T=0,x=0;x<v.length;x++)c=(i-v[x])/(i-0)*r[0]+(v[x]-0)/(i-0)*n[0],p=(i-v[x])/(i-0)*r[1]+(v[x]-0)/(i-0)*n[1],s=(f-v[x])/(f-i)*n[0]+(v[x]-i)/(f-i)*t[0],w=(f-v[x])/(f-i)*n[1]+(v[x]-i)/(f-i)*t[1],y=(g-v[x])/(g-f)*t[0]+(v[x]-f)/(g-f)*e[0],d=(g-v[x])/(g-f)*t[1]+(v[x]-f)/(g-f)*e[1],m=(f-v[x])/(f-0)*c+(v[x]-0)/(f-0)*s,A=(f-v[x])/(f-0)*p+(v[x]-0)/(f-0)*w,F=(g-v[x])/(g-i)*s+(v[x]-i)/(g-i)*y,I=(g-v[x])/(g-i)*w+(v[x]-i)/(g-i)*d,M=(f-v[x])/(f-i)*m+(v[x]-i)/(f-i)*F,T=(f-v[x])/(f-i)*A+(v[x]-i)/(f-i)*I,o[l++]=M,o[l++]=T}(u[h],u[h+1],u[h+2],u[h+3],n,t);return e||(o[l++]=r[r.length-2][0],o[l++]=r[r.length-2][1]),arrayTo2d(o,2)};